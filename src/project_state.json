{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 3,
  "summary": "NFL Combine Tracker with manual Zelle payment verification system and admin access control",
  "architectural_notes": [
    "Manual payment verification workflow via Zelle - admin toggles users to 'Paid' status after receiving payment",
    "Admin-only access control at /admin route with user management interface",
    "Payment gate blocks sign-in functionality until user marked as 'Paid' by admin",
    "Internet Identity authentication integrated with payment status checks"
  ],
  "known_issues": [
    "Admin page showing 'Access denied' error for authenticated admin user - authorization logic not properly registering or verifying admin Principal ID"
  ],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-fix-admin-page-authorization-to-properly-register-and-verify-the-admin-principal-id-the-first-user-to-visit-admin-should-be-stored-as-the-authorized-admin-and-all-subsequent-visits-should-validate-against-this-stored-principal-ensure-the-backend-correctly-persists-the-admin-principal-and-the-frontend-properly-waits-for-authentication-before-checking-admin-status",
      "title": "Fix admin page authorization to properly register and verify the admin Principal ID. The first user to visit /admin should be stored as the authorized admin, and all subsequent visits should validate against this stored Principal. Ensure the backend correctly persists the admin Principal and the frontend properly waits for authentication before checking admin status.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-add-user-management-interface-to-the-admin-page-that-displays-all-registered-users-with-their-current-paid-status-provide-toggle-controls-for-each-user-that-allow-the-admin-to-mark-users-as-paid-or-unpaid-this-enables-manual-zelle-payment-verification-workflow-where-the-admin-receives-zelle-payment-then-toggles-the-user-to-paid-status-after-which-the-user-can-sign-in",
      "title": "Add user management interface to the admin page that displays all registered users with their current 'Paid' status. Provide toggle controls for each user that allow the admin to mark users as 'Paid' or 'Unpaid'. This enables manual Zelle payment verification workflow where the admin receives Zelle payment, then toggles the user to 'Paid' status, after which the user can sign in.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Fix admin page access - user unable to access /admin despite proper authentication",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Implement payment gate - users cannot sign in without 'Paid' status",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Add admin page user management with toggle controls for 'Paid' status",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Show error message 'No sign in without up to date payment' for unpaid users attempting sign-in",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "Block all sign-in functionality for users who do not have 'Paid' status. Users attempting to sign in without being marked as 'Paid' by the admin must see the error message: 'No sign in without up to date payment'. The sign-in button or Internet Identity flow should only be available to users who have been toggled to 'Paid' status in the admin panel.",
      "reqIds": [
        "REQ-2"
      ],
      "status": "pending"
    }
  ],
  "projectName": "NFL Combine Tracker",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}